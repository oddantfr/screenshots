import{H as y,T as o,s as v,l as E,a as M,D as H,V as x,b as V,r as O,g as R,c as L,S as j,d as z,M as i}from"./scheme_vibrant-748f3d31.js";class u{static of(e){return new u(e,!1)}static contentOf(e){return new u(e,!0)}static fromColors(e){return u.createPaletteFromColors(!1,e)}static contentFromColors(e){return u.createPaletteFromColors(!0,e)}static createPaletteFromColors(e,t){const r=new u(t.primary,e);if(t.secondary){const a=new u(t.secondary,e);r.a2=a.a1}if(t.tertiary){const a=new u(t.tertiary,e);r.a3=a.a1}if(t.error){const a=new u(t.error,e);r.error=a.a1}if(t.neutral){const a=new u(t.neutral,e);r.n1=a.n1}if(t.neutralVariant){const a=new u(t.neutralVariant,e);r.n2=a.n2}return r}constructor(e,t){const r=y.fromInt(e),a=r.hue,h=r.chroma;t?(this.a1=o.fromHueAndChroma(a,h),this.a2=o.fromHueAndChroma(a,h/3),this.a3=o.fromHueAndChroma(a+60,h/2),this.n1=o.fromHueAndChroma(a,Math.min(h/12,4)),this.n2=o.fromHueAndChroma(a,Math.min(h/6,8))):(this.a1=o.fromHueAndChroma(a,Math.max(48,h)),this.a2=o.fromHueAndChroma(a,16),this.a3=o.fromHueAndChroma(a+60,24),this.n1=o.fromHueAndChroma(a,4),this.n2=o.fromHueAndChroma(a,8)),this.error=o.fromHueAndChroma(25,84)}}class C{constructor(e){this.input=e,this.hctsByTempCache=[],this.hctsByHueCache=[],this.tempsByHctCache=new Map,this.inputRelativeTemperatureCache=-1,this.complementCache=null}get hctsByTemp(){if(this.hctsByTempCache.length>0)return this.hctsByTempCache;const e=this.hctsByHue.concat([this.input]),t=this.tempsByHct;return e.sort((r,a)=>t.get(r)-t.get(a)),this.hctsByTempCache=e,e}get warmest(){return this.hctsByTemp[this.hctsByTemp.length-1]}get coldest(){return this.hctsByTemp[0]}analogous(e=5,t=12){const r=Math.round(this.input.hue),a=this.hctsByHue[r];let h=this.relativeTemperature(a);const s=[a];let f=0;for(let c=0;c<360;c++){const m=M(r+c),w=this.hctsByHue[m],g=this.relativeTemperature(w),b=Math.abs(g-h);h=g,f+=b}let d=1;const P=f/t;let A=0;for(h=this.relativeTemperature(a);s.length<t;){const c=M(r+d),m=this.hctsByHue[c],w=this.relativeTemperature(m),g=Math.abs(w-h);A+=g;const b=s.length*P;let I=A>=b,F=1;for(;I&&s.length<t;){s.push(m);const D=(s.length+F)*P;I=A>=D,F++}if(h=w,d++,d>360){for(;s.length<t;)s.push(m);break}}const T=[this.input],S=Math.floor((e-1)/2);for(let c=1;c<S+1;c++){let m=0-c;for(;m<0;)m=s.length+m;m>=s.length&&(m=m%s.length),T.splice(0,0,s[m])}const B=e-S-1;for(let c=1;c<B+1;c++){let m=c;for(;m<0;)m=s.length+m;m>=s.length&&(m=m%s.length),T.push(s[m])}return T}get complement(){if(this.complementCache!=null)return this.complementCache;const e=this.coldest.hue,t=this.tempsByHct.get(this.coldest),r=this.warmest.hue,h=this.tempsByHct.get(this.warmest)-t,s=C.isBetween(this.input.hue,e,r),f=s?r:e,d=s?e:r,P=1;let A=1e3,T=this.hctsByHue[Math.round(this.input.hue)];const S=1-this.inputRelativeTemperature;for(let B=0;B<=360;B+=1){const c=v(f+P*B);if(!C.isBetween(c,f,d))continue;const m=this.hctsByHue[Math.round(c)],w=(this.tempsByHct.get(m)-t)/h,g=Math.abs(S-w);g<A&&(A=g,T=m)}return this.complementCache=T,this.complementCache}relativeTemperature(e){const t=this.tempsByHct.get(this.warmest)-this.tempsByHct.get(this.coldest),r=this.tempsByHct.get(e)-this.tempsByHct.get(this.coldest);return t===0?.5:r/t}get inputRelativeTemperature(){return this.inputRelativeTemperatureCache>=0?this.inputRelativeTemperatureCache:(this.inputRelativeTemperatureCache=this.relativeTemperature(this.input),this.inputRelativeTemperatureCache)}get tempsByHct(){if(this.tempsByHctCache.size>0)return this.tempsByHctCache;const e=this.hctsByHue.concat([this.input]),t=new Map;for(const r of e)t.set(r,C.rawTemperature(r));return this.tempsByHctCache=t,t}get hctsByHue(){if(this.hctsByHueCache.length>0)return this.hctsByHueCache;const e=[];for(let t=0;t<=360;t+=1){const r=y.from(t,this.input.chroma,this.input.tone);e.push(r)}return this.hctsByHueCache=e,this.hctsByHueCache}static isBetween(e,t,r){return t<r?t<=e&&e<=r:t<=e||e<=r}static rawTemperature(e){const t=E(e.toInt()),r=v(Math.atan2(t[2],t[1])*180/Math.PI),a=Math.sqrt(t[1]*t[1]+t[2]*t[2]);return-.5+.02*Math.pow(a,1.07)*Math.cos(v(r-50)*Math.PI/180)}}class k extends H{constructor(e,t,r){super({sourceColorArgb:e.toInt(),variant:x.CONTENT,contrastLevel:r,isDark:t,primaryPalette:o.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:o.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:o.fromInt(V.fixIfDisliked(new C(e).analogous(3,6)[2]).toInt()),neutralPalette:o.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:o.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class q extends H{constructor(e,t,r){super({sourceColorArgb:e.toInt(),variant:x.FIDELITY,contrastLevel:r,isDark:t,primaryPalette:o.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:o.fromHueAndChroma(e.hue,Math.max(e.chroma-32,e.chroma*.5)),tertiaryPalette:o.fromInt(V.fixIfDisliked(new C(e).complement).toInt()),neutralPalette:o.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:o.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class $ extends H{constructor(e,t,r){super({sourceColorArgb:e.toInt(),variant:x.MONOCHROME,contrastLevel:r,isDark:t,primaryPalette:o.fromHueAndChroma(e.hue,0),secondaryPalette:o.fromHueAndChroma(e.hue,0),tertiaryPalette:o.fromHueAndChroma(e.hue,0),neutralPalette:o.fromHueAndChroma(e.hue,0),neutralVariantPalette:o.fromHueAndChroma(e.hue,0)})}}class N extends H{constructor(e,t,r){super({sourceColorArgb:e.toInt(),variant:x.NEUTRAL,contrastLevel:r,isDark:t,primaryPalette:o.fromHueAndChroma(e.hue,12),secondaryPalette:o.fromHueAndChroma(e.hue,8),tertiaryPalette:o.fromHueAndChroma(e.hue,16),neutralPalette:o.fromHueAndChroma(e.hue,2),neutralVariantPalette:o.fromHueAndChroma(e.hue,2)})}}class U extends H{constructor(e,t,r){super({sourceColorArgb:e.toInt(),variant:x.TONAL_SPOT,contrastLevel:r,isDark:t,primaryPalette:o.fromHueAndChroma(e.hue,36),secondaryPalette:o.fromHueAndChroma(e.hue,16),tertiaryPalette:o.fromHueAndChroma(v(e.hue+60),24),neutralPalette:o.fromHueAndChroma(e.hue,6),neutralVariantPalette:o.fromHueAndChroma(e.hue,8)})}}function W(n){const e=O(n),t=R(n),r=L(n),a=[e.toString(16),t.toString(16),r.toString(16)];for(const[h,s]of a.entries())s.length===1&&(a[h]="0"+s);return"#"+a.join("")}function l(n){n=n.replace("#","");const e=n.length===3,t=n.length===6,r=n.length===8;if(!e&&!t&&!r)throw new Error("unexpected hex "+n);let a=0,h=0,s=0;return e?(a=p(n.slice(0,1).repeat(2)),h=p(n.slice(1,2).repeat(2)),s=p(n.slice(2,3).repeat(2))):t?(a=p(n.slice(0,2)),h=p(n.slice(2,4)),s=p(n.slice(4,6))):r&&(a=p(n.slice(2,4)),h=p(n.slice(4,6)),s=p(n.slice(6,8))),(255<<24|(a&255)<<16|(h&255)<<8|s&255)>>>0}function p(n){return parseInt(n,16)}function Y(n,e,t){var a,h;let r;if(t&&(r=globalThis[t]),r||(r=new CSSStyleSheet,n.adoptedStyleSheets.push(r),t&&(globalThis[t]=r)),r.replaceSync(e),t==="material-theme"){const s=(a=e.match(/--md-sys-color-surface-container:(.+?);/))==null?void 0:a[1];s&&((h=document.querySelector('meta[name="theme-color"]'))==null||h.setAttribute("content",s)),localStorage.setItem(t,e)}}function Q(n,e,t="material-theme"){let r=":root,:host{";for(const[a,h]of Object.entries(e))r+=`--md-sys-color-${a}:${h};`;r+="}",Y(n,r,t)}const G={background:i.background,error:i.error,"error-container":i.errorContainer,"inverse-on-surface":i.inverseOnSurface,"inverse-primary":i.inversePrimary,"inverse-surface":i.inverseSurface,"on-background":i.onBackground,"on-error":i.onError,"on-error-container":i.onErrorContainer,"on-primary":i.onPrimary,"on-primary-container":i.onPrimaryContainer,"on-primary-fixed":i.onPrimaryFixed,"on-primary-fixed-variant":i.onPrimaryFixedVariant,"on-secondary":i.onSecondary,"on-secondary-container":i.onSecondaryContainer,"on-secondary-fixed":i.onSecondaryFixed,"on-secondary-fixed-variant":i.onSecondaryFixedVariant,"on-surface":i.onSurface,"on-surface-variant":i.onSurfaceVariant,"on-tertiary":i.onTertiary,"on-tertiary-container":i.onTertiaryContainer,"on-tertiary-fixed":i.onTertiaryFixed,"on-tertiary-fixed-variant":i.onTertiaryFixedVariant,outline:i.outline,"outline-variant":i.outlineVariant,primary:i.primary,"primary-container":i.primaryContainer,"primary-fixed":i.primaryFixed,"primary-fixed-dim":i.primaryFixedDim,scrim:i.scrim,secondary:i.secondary,"secondary-container":i.secondaryContainer,"secondary-fixed":i.secondaryFixed,"secondary-fixed-dim":i.secondaryFixedDim,shadow:i.shadow,surface:i.surface,"surface-bright":i.surfaceBright,"surface-container":i.surfaceContainer,"surface-container-high":i.surfaceContainerHigh,"surface-container-highest":i.surfaceContainerHighest,"surface-container-low":i.surfaceContainerLow,"surface-container-lowest":i.surfaceContainerLowest,"surface-dim":i.surfaceDim,"surface-tint":i.surfaceTint,"surface-variant":i.surfaceVariant,tertiary:i.tertiary,"tertiary-container":i.tertiaryContainer,"tertiary-fixed":i.tertiaryFixed,"tertiary-fixed-dim":i.tertiaryFixedDim};function X(n,e,t,r){if(typeof n!="string"&&t!=="dynamic"||typeof n!="object"&&t==="dynamic")throw new Error("color / scheme type mismatch");let a;if(t==="tonal")a=new U(y.fromInt(l(n)),e,r);else if(t==="fidelity")a=new q(y.fromInt(l(n)),e,r);else if(t==="vibrant")a=new j(y.fromInt(l(n)),e,r);else if(t==="expressive")a=new z(y.fromInt(l(n)),e,r);else if(t==="content")a=new k(y.fromInt(l(n)),e,r);else if(t==="neutral")a=new N(y.fromInt(l(n)),e,r);else if(t==="monochrome")a=new $(y.fromInt(l(n)),e,r);else if(t==="dynamic"&&typeof n=="object"){const h=l(n.primary),s=u.of(h);if(n.secondary!=="#000000"){const f=l(n.secondary),d=u.of(f);s.a2=d.a1}if(n.tertiary!=="#000000"){const f=l(n.tertiary),d=u.of(f);s.a3=d.a1}if(n.neutral!=="#000000"){const f=l(n.neutral),d=u.of(f);s.n1=d.n1}a=new H({sourceColorArgb:l(n.primary),variant:5,contrastLevel:r,isDark:e,primaryPalette:s.a1,secondaryPalette:s.a2,tertiaryPalette:s.a3,neutralPalette:s.n1,neutralVariantPalette:s.n2})}return J(a)}function J(n){const e={};for(const[t,r]of Object.entries(G))e[t]=W(r.getArgb(n));return e}export{Q as applyTheme,Y as applyThemeString,X as themeFromSourceColor};
