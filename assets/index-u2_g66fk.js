import{H as e,T as t,s as r,l as a,a as n,D as o,V as s,b as i,r as c,g as h,c as u,S as m,d as l,M as f}from"./index-IBTqJ-G0.js";class p{static of(e){return new p(e,!1)}static contentOf(e){return new p(e,!0)}static fromColors(e){return p.createPaletteFromColors(!1,e)}static contentFromColors(e){return p.createPaletteFromColors(!0,e)}static createPaletteFromColors(e,t){const r=new p(t.primary,e);if(t.secondary){const a=new p(t.secondary,e);r.a2=a.a1}if(t.tertiary){const a=new p(t.tertiary,e);r.a3=a.a1}if(t.error){const a=new p(t.error,e);r.error=a.a1}if(t.neutral){const a=new p(t.neutral,e);r.n1=a.n1}if(t.neutralVariant){const a=new p(t.neutralVariant,e);r.n2=a.n2}return r}constructor(r,a){const n=e.fromInt(r),o=n.hue,s=n.chroma;a?(this.a1=t.fromHueAndChroma(o,s),this.a2=t.fromHueAndChroma(o,s/3),this.a3=t.fromHueAndChroma(o+60,s/2),this.n1=t.fromHueAndChroma(o,Math.min(s/12,4)),this.n2=t.fromHueAndChroma(o,Math.min(s/6,8))):(this.a1=t.fromHueAndChroma(o,Math.max(48,s)),this.a2=t.fromHueAndChroma(o,16),this.a3=t.fromHueAndChroma(o+60,24),this.n1=t.fromHueAndChroma(o,4),this.n2=t.fromHueAndChroma(o,8)),this.error=t.fromHueAndChroma(25,84)}}class y{constructor(e){this.input=e,this.hctsByTempCache=[],this.hctsByHueCache=[],this.tempsByHctCache=new Map,this.inputRelativeTemperatureCache=-1,this.complementCache=null}get hctsByTemp(){if(this.hctsByTempCache.length>0)return this.hctsByTempCache;const e=this.hctsByHue.concat([this.input]),t=this.tempsByHct;return e.sort(((e,r)=>t.get(e)-t.get(r))),this.hctsByTempCache=e,e}get warmest(){return this.hctsByTemp[this.hctsByTemp.length-1]}get coldest(){return this.hctsByTemp[0]}analogous(e=5,t=12){const r=Math.round(this.input.hue),a=this.hctsByHue[r];let o=this.relativeTemperature(a);const s=[a];let i=0;for(let p=0;p<360;p++){const e=n(r+p),t=this.hctsByHue[e],a=this.relativeTemperature(t),s=Math.abs(a-o);o=a,i+=s}let c=1;const h=i/t;let u=0;for(o=this.relativeTemperature(a);s.length<t;){const e=n(r+c),a=this.hctsByHue[e],i=this.relativeTemperature(a);u+=Math.abs(i-o);let m=u>=s.length*h,l=1;for(;m&&s.length<t;){s.push(a);m=u>=(s.length+l)*h,l++}if(o=i,c++,c>360){for(;s.length<t;)s.push(a);break}}const m=[this.input],l=Math.floor((e-1)/2);for(let n=1;n<l+1;n++){let e=0-n;for(;e<0;)e=s.length+e;e>=s.length&&(e%=s.length),m.splice(0,0,s[e])}const f=e-l-1;for(let n=1;n<f+1;n++){let e=n;for(;e<0;)e=s.length+e;e>=s.length&&(e%=s.length),m.push(s[e])}return m}get complement(){if(null!=this.complementCache)return this.complementCache;const e=this.coldest.hue,t=this.tempsByHct.get(this.coldest),a=this.warmest.hue,n=this.tempsByHct.get(this.warmest)-t,o=y.isBetween(this.input.hue,e,a),s=o?a:e,i=o?e:a;let c=1e3,h=this.hctsByHue[Math.round(this.input.hue)];const u=1-this.inputRelativeTemperature;for(let m=0;m<=360;m+=1){const e=r(s+1*m);if(!y.isBetween(e,s,i))continue;const a=this.hctsByHue[Math.round(e)],o=(this.tempsByHct.get(a)-t)/n,l=Math.abs(u-o);l<c&&(c=l,h=a)}return this.complementCache=h,this.complementCache}relativeTemperature(e){const t=this.tempsByHct.get(this.warmest)-this.tempsByHct.get(this.coldest),r=this.tempsByHct.get(e)-this.tempsByHct.get(this.coldest);return 0===t?.5:r/t}get inputRelativeTemperature(){return this.inputRelativeTemperatureCache>=0||(this.inputRelativeTemperatureCache=this.relativeTemperature(this.input)),this.inputRelativeTemperatureCache}get tempsByHct(){if(this.tempsByHctCache.size>0)return this.tempsByHctCache;const e=this.hctsByHue.concat([this.input]),t=new Map;for(const r of e)t.set(r,y.rawTemperature(r));return this.tempsByHctCache=t,t}get hctsByHue(){if(this.hctsByHueCache.length>0)return this.hctsByHueCache;const t=[];for(let r=0;r<=360;r+=1){const a=e.from(r,this.input.chroma,this.input.tone);t.push(a)}return this.hctsByHueCache=t,this.hctsByHueCache}static isBetween(e,t,r){return t<r?t<=e&&e<=r:t<=e||e<=r}static rawTemperature(e){const t=a(e.toInt()),n=r(180*Math.atan2(t[2],t[1])/Math.PI),o=Math.sqrt(t[1]*t[1]+t[2]*t[2]);return.02*Math.pow(o,1.07)*Math.cos(r(n-50)*Math.PI/180)-.5}}class d extends o{constructor(e,r,a){super({sourceColorArgb:e.toInt(),variant:s.CONTENT,contrastLevel:a,isDark:r,primaryPalette:t.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:t.fromHueAndChroma(e.hue,Math.max(e.chroma-32,.5*e.chroma)),tertiaryPalette:t.fromInt(i.fixIfDisliked(new y(e).analogous(3,6)[2]).toInt()),neutralPalette:t.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:t.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class C extends o{constructor(e,r,a){super({sourceColorArgb:e.toInt(),variant:s.FIDELITY,contrastLevel:a,isDark:r,primaryPalette:t.fromHueAndChroma(e.hue,e.chroma),secondaryPalette:t.fromHueAndChroma(e.hue,Math.max(e.chroma-32,.5*e.chroma)),tertiaryPalette:t.fromInt(i.fixIfDisliked(new y(e).complement).toInt()),neutralPalette:t.fromHueAndChroma(e.hue,e.chroma/8),neutralVariantPalette:t.fromHueAndChroma(e.hue,e.chroma/8+4)})}}class H extends o{constructor(e,r,a){super({sourceColorArgb:e.toInt(),variant:s.MONOCHROME,contrastLevel:a,isDark:r,primaryPalette:t.fromHueAndChroma(e.hue,0),secondaryPalette:t.fromHueAndChroma(e.hue,0),tertiaryPalette:t.fromHueAndChroma(e.hue,0),neutralPalette:t.fromHueAndChroma(e.hue,0),neutralVariantPalette:t.fromHueAndChroma(e.hue,0)})}}class g extends o{constructor(e,r,a){super({sourceColorArgb:e.toInt(),variant:s.NEUTRAL,contrastLevel:a,isDark:r,primaryPalette:t.fromHueAndChroma(e.hue,12),secondaryPalette:t.fromHueAndChroma(e.hue,8),tertiaryPalette:t.fromHueAndChroma(e.hue,16),neutralPalette:t.fromHueAndChroma(e.hue,2),neutralVariantPalette:t.fromHueAndChroma(e.hue,2)})}}class A extends o{constructor(e,a,n){super({sourceColorArgb:e.toInt(),variant:s.TONAL_SPOT,contrastLevel:n,isDark:a,primaryPalette:t.fromHueAndChroma(e.hue,36),secondaryPalette:t.fromHueAndChroma(e.hue,16),tertiaryPalette:t.fromHueAndChroma(r(e.hue+60),24),neutralPalette:t.fromHueAndChroma(e.hue,6),neutralVariantPalette:t.fromHueAndChroma(e.hue,8)})}}function w(e){const t=c(e),r=h(e),a=u(e),n=[t.toString(16),r.toString(16),a.toString(16)];for(const[o,s]of n.entries())1===s.length&&(n[o]="0"+s);return"#"+n.join("")}function B(e){const t=3===(e=e.replace("#","")).length,r=6===e.length,a=8===e.length;if(!t&&!r&&!a)throw new Error("unexpected hex "+e);let n=0,o=0,s=0;return t?(n=P(e.slice(0,1).repeat(2)),o=P(e.slice(1,2).repeat(2)),s=P(e.slice(2,3).repeat(2))):r?(n=P(e.slice(0,2)),o=P(e.slice(2,4)),s=P(e.slice(4,6))):a&&(n=P(e.slice(2,4)),o=P(e.slice(4,6)),s=P(e.slice(6,8))),(255<<24|(255&n)<<16|(255&o)<<8|255&s)>>>0}function P(e){return parseInt(e,16)}function v(e,t,r="material-theme"){let a=globalThis[r];a||(a=new CSSStyleSheet,globalThis[r]=a,e.adoptedStyleSheets.push(a)),a.replaceSync(t),localStorage.setItem(r,t)}const T={background:f.background,"on-background":f.onBackground,surface:f.surface,"surface-dim":f.surfaceDim,"surface-bright":f.surfaceBright,"surface-container-lowest":f.surfaceContainerLowest,"surface-container-low":f.surfaceContainerLow,"surface-container":f.surfaceContainer,"surface-container-high":f.surfaceContainerHigh,"surface-container-highest":f.surfaceContainerHighest,"on-surface":f.onSurface,"surface-variant":f.surfaceVariant,"on-surface-variant":f.onSurfaceVariant,"inverse-surface":f.inverseSurface,"inverse-on-surface":f.inverseOnSurface,outline:f.outline,"outline-variant":f.outlineVariant,shadow:f.shadow,scrim:f.scrim,"surface-tint":f.surfaceTint,primary:f.primary,"on-primary":f.onPrimary,"primary-container":f.primaryContainer,"on-primary-container":f.onPrimaryContainer,"inverse-primary":f.inversePrimary,secondary:f.secondary,"on-secondary":f.onSecondary,"secondary-container":f.secondaryContainer,"on-secondary-container":f.onSecondaryContainer,tertiary:f.tertiary,"on-tertiary":f.onTertiary,"tertiary-container":f.tertiaryContainer,"on-tertiary-container":f.onTertiaryContainer,error:f.error,"on-error":f.onError,"error-container":f.errorContainer,"on-error-container":f.onErrorContainer};function I(t){return e.fromInt(B(t))}function b(t,r,a){return w(e.from(t,r,a).toInt())}function M(t,r,a,n){if("string"!=typeof t&&"dynamic"!==a||"object"!=typeof t&&"dynamic"===a)throw new Error("color / scheme type mismatch");let s;if("tonal"===a)s=new A(e.fromInt(B(t)),r,n);else if("fidelity"===a)s=new C(e.fromInt(B(t)),r,n);else if("vibrant"===a)s=new m(e.fromInt(B(t)),r,n);else if("expressive"===a)s=new l(e.fromInt(B(t)),r,n);else if("content"===a)s=new d(e.fromInt(B(t)),r,n);else if("neutral"===a)s=new g(e.fromInt(B(t)),r,n);else if("monochrome"===a)s=new H(e.fromInt(B(t)),r,n);else if("dynamic"===a&&"object"==typeof t){const e=B(t.primary),a=p.of(e);if("#000000"!==t.secondary){const e=B(t.secondary),r=p.of(e);a.a2=r.a1}if("#000000"!==t.tertiary){const e=B(t.tertiary),r=p.of(e);a.a3=r.a1}if("#000000"!==t.neutral){const e=B(t.neutral),r=p.of(e);a.n1=r.n1}s=new o({sourceColorArgb:B(t.primary),variant:5,contrastLevel:n,isDark:r,primaryPalette:a.a1,secondaryPalette:a.a2,tertiaryPalette:a.a3,neutralPalette:a.n1,neutralVariantPalette:a.n2})}return S(s)}function S(e){const t={};for(const[r,a]of Object.entries(T))t[r]=w(a.getArgb(e));return t}function x(e,t,r="material-theme"){let a=":root{";for(const[n,o]of Object.entries(t))a+=`--md-sys-color-${n}:${o};`;a+="}",v(e,a,r)}export{x as applyTheme,v as applyThemeString,I as hctFromHex,b as hexFromHct,S as themeFromScheme,M as themeFromSourceColor};
